query AvailableCommunities {
  community {
    ...CommunityFields
  }
}

fragment CommunityFields on community {
  description
  discord_id
  icon
  id
  name
  owner {
    id
    discord_id
    discord_email
    discord_user_name
    discord_avatar
  }
}

query getCommunityById($id: Int!) {
  community_by_pk(id: $id) {
    ...CommunityFields
  }
}

mutation UpdateCommunityById(
  $id: Int!
  $name: String
  $description: String
  $icon: String
) {
  update_community_by_pk(
    pk_columns: { id: $id }
    _set: { description: $description, icon: $icon, name: $name }
  ) {
    id
  }
}

mutation DeleteCommunityById($id: Int!) {
  delete_community_by_pk(id: $id) {
    id
  }
}
